    from netbox.scripts import Script, ChoiceVar
    from dcim.models import Site

    class MyCustomScript(Script):
        my_dynamic_choice = ChoiceVar(
            description="Select a Site:",
            choices=[],
            required=True
        )

        def run(self, data, commit):
            # Populate choices dynamically based on existing Sites
            site_choices = [(site.slug, site.name) for site in Site.objects.all()]
            self.my_dynamic_choice.choices = site_choices

            # Now, the user will see a dropdown with all NetBox Sites
            selected_site_slug = data['my_dynamic_choice']
            selected_site = Site.objects.get(slug=selected_site_slug)

            self.log_info(f"Selected site: {selected_site.name}")
            # ... further script logic using the selected_site ...
            return "Script executed successfully."
